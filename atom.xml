<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Pcion&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://pcion123.github.io/"/>
  <updated>2025-08-13T14:31:49.422Z</updated>
  <id>https://pcion123.github.io/</id>
  
  <author>
    <name>Jason Lai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用vscode+copilot快速建立專案</title>
    <link href="https://pcion123.github.io/2025/07/30/vscode-copilot-quick/"/>
    <id>https://pcion123.github.io/2025/07/30/vscode-copilot-quick/</id>
    <published>2025-07-30T14:37:11.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h1 id="從-Eclipse-到-VSCode：我的-AI-輔助開發轉型之路"><a href="#從-Eclipse-到-VSCode：我的-AI-輔助開發轉型之路" class="headerlink" title="從 Eclipse 到 VSCode：我的 AI 輔助開發轉型之路"></a>從 Eclipse 到 VSCode：我的 AI 輔助開發轉型之路</h1><p>嗨大家好！今天想跟大家分享一個讓我既興奮又有點緊張的決定 —— 我要從用了好幾年的 Eclipse 跳槽到 VSCode 了！🚀</p><h2 id="為什麼決定換編輯器？"><a href="#為什麼決定換編輯器？" class="headerlink" title="為什麼決定換編輯器？"></a>為什麼決定換編輯器？</h2><p>老實說，作為一個 Java 開發者，Eclipse 一直是我的好夥伴。但最近看到越來越多同事在用 VSCode，特別是搭配 GitHub Copilot 的開發體驗，讓我開始好奇：「我是不是錯過了什麼？」</p><p>更重要的是，現在 AI 輔助開發工具發展得這麼快，我覺得是時候跟上這個潮流了。畢竟，誰不想寫 code 寫得更快、更聰明呢？😄</p><p><strong>準備好了嗎？讓我們一起踏上這段 AI 輔助開發的冒險之旅吧！</strong> 🎉</p><span id="more"></span><h2 id="這篇文章會聊什麼？"><a href="#這篇文章會聊什麼？" class="headerlink" title="這篇文章會聊什麼？"></a>這篇文章會聊什麼？</h2><p>這次我想分享的重點是：<strong>如何用 VSCode + GitHub Copilot + 自定義 Prompts 來快速建立 Spring Boot 專案</strong>。</p><p>具體來說，我會分享給大家：</p><ul><li>🎯 使用 <code>.github/prompts/*.prompt.md</code> 自定義提示詞</li><li>⚡ 展示讓 AI 幫你快速搭建專案架構</li><li>💡 一些我在轉換過程中學到的小技巧</li></ul><h2 id="這次的實戰內容"><a href="#這次的實戰內容" class="headerlink" title="這次的實戰內容"></a>這次的實戰內容</h2><p>我錄了一個完整的操作影片，從零開始建立一個 Spring Boot 專案：</p><p><strong>📺 實戰教學影片：<a href="https://youtu.be/wG2T3G7LXa4">VSCode + AI 快速建立 Spring Boot 專案</a></strong></p><div style="position: relative; width: 100%; max-width: 800px; margin: 20px auto; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">  <div style="position: relative; padding-bottom: 56.25%; height: 0;">    <iframe src="https://www.youtube.com/embed/wG2T3G7LXa4?rel=0&modestbranding=1&showinfo=0"             style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"             allowfullscreen>    </iframe>  </div></div><p>影片裡我會展示：</p><ol><li>VSCode 環境的基本設定</li><li>GitHub Copilot 的神奇功能</li><li>自定義 Prompt 模板的設計技巧</li><li>實際建立一個可運行的 Spring Boot 應用</li></ol><h2 id="使用體驗真實感想"><a href="#使用體驗真實感想" class="headerlink" title="使用體驗真實感想"></a>使用體驗真實感想</h2><p>老實說，剛開始使用 VSCode + GitHub Copilot 的時候，我真的被震撼到了！😱</p><p><strong>流暢度方面：</strong></p><ul><li>🚀 <strong>啟動速度</strong>：從點擊到可以開始寫 code，幾乎是秒開！跟 Eclipse 那種「先去泡杯咖啡」的等待完全不同</li><li>⚡ <strong>反應速度</strong>：打字的時候沒有任何延遲感，檔案切換也是瞬間完成</li><li>🎯 <strong>記憶體使用</strong>：明顯比傳統 IDE 輕量很多，多開幾個專案也不會讓電腦卡到爆</li></ul><p><strong>AI 輔助的驚艷之處：</strong></p><ul><li>🧠 <strong>任務規劃能力</strong>：最讓我震撼的是 Copilot 能夠理解整個專案的架構，當我說「建立一個 Spring Boot 專案」時，它不只是給我片段程式碼，而是能建立一個完整可執行的專案</li><li>🔥 <strong>執行效率</strong>：從 Controller、Service、Repository 到測試檔案的建立，整個流程一氣呵成，就像有個經驗豐富的 Senior 在旁邊協助</li><li>🎯 <strong>上下文理解</strong>：它會記住我之前寫的程式碼風格和專案結構，新增的程式碼都能完美融入既有的架構中</li><li>💡 <strong>智能補全</strong>：不只是簡單的語法補全，它會根據上下文給出完整的函式實作，甚至包含錯誤處理</li><li>📝 <strong>文件生成</strong>：連 README、API 文件、註解都能自動生成，而且寫得比我還詳細（有點害羞 😅）</li></ul><p><strong>最讓我驚嘆的是</strong>：整個開發流程變得非常「自然」，就像在跟一個很懂你的夥伴協作。以前寫 code 需要頻繁查文件、想語法，現在很多時候 AI 就直接給出了我要的答案。</p><p>這種感覺就像從「手動檔」換到「自動檔」一樣 —— 你還是在開車，但整個過程變得更順暢、更專注在真正重要的邏輯思考上。</p><hr><p><strong>我會不定期分享更多 VSCode + AI 開發的實戰體驗！</strong> 🎉</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;從-Eclipse-到-VSCode：我的-AI-輔助開發轉型之路&quot;&gt;&lt;a href=&quot;#從-Eclipse-到-VSCode：我的-AI-輔助開發轉型之路&quot; class=&quot;headerlink&quot; title=&quot;從 Eclipse 到 VSCode：我的 AI 輔助開發轉型之路&quot;&gt;&lt;/a&gt;從 Eclipse 到 VSCode：我的 AI 輔助開發轉型之路&lt;/h1&gt;&lt;p&gt;嗨大家好！今天想跟大家分享一個讓我既興奮又有點緊張的決定 —— 我要從用了好幾年的 Eclipse 跳槽到 VSCode 了！🚀&lt;/p&gt;
&lt;h2 id=&quot;為什麼決定換編輯器？&quot;&gt;&lt;a href=&quot;#為什麼決定換編輯器？&quot; class=&quot;headerlink&quot; title=&quot;為什麼決定換編輯器？&quot;&gt;&lt;/a&gt;為什麼決定換編輯器？&lt;/h2&gt;&lt;p&gt;老實說，作為一個 Java 開發者，Eclipse 一直是我的好夥伴。但最近看到越來越多同事在用 VSCode，特別是搭配 GitHub Copilot 的開發體驗，讓我開始好奇：「我是不是錯過了什麼？」&lt;/p&gt;
&lt;p&gt;更重要的是，現在 AI 輔助開發工具發展得這麼快，我覺得是時候跟上這個潮流了。畢竟，誰不想寫 code 寫得更快、更聰明呢？😄&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;準備好了嗎？讓我們一起踏上這段 AI 輔助開發的冒險之旅吧！&lt;/strong&gt; 🎉&lt;/p&gt;
    
    </summary>
    
    
      <category term="vscodelife" scheme="https://pcion123.github.io/categories/vscodelife/"/>
    
    
      <category term="java" scheme="https://pcion123.github.io/tags/java/"/>
    
      <category term="vscode" scheme="https://pcion123.github.io/tags/vscode/"/>
    
      <category term="github-copilot" scheme="https://pcion123.github.io/tags/github-copilot/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝Nexus</title>
    <link href="https://pcion123.github.io/2021/09/25/nexus-install/"/>
    <id>https://pcion123.github.io/2021/09/25/nexus-install/</id>
    <published>2021-09-25T05:36:17.000Z</published>
    <updated>2025-08-13T14:31:49.406Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝JDK"><a href="#安裝JDK" class="headerlink" title="安裝JDK"></a>安裝JDK</h2><a href="/2019/03/10/java-installopenjdk/" title="安裝OpenJDK">請參考之前的文章</a><h2 id="下載nexus"><a href="#下載nexus" class="headerlink" title="下載nexus"></a>下載nexus</h2><p><a href="https://www.sonatype.com/products/repository-oss-download">官方下載</a><br>或者<br><a href="https://sonatype-download.global.ssl.fastly.net/repository/downloads-prod-group/3/nexus-3.33.1-01-unix.tar.gz">nexus-3.33.1-01-unix</a></p><span id="more"></span><h2 id="建立nexus使用者"><a href="#建立nexus使用者" class="headerlink" title="建立nexus使用者"></a>建立nexus使用者</h2><p>建立nexus專用的系統帳號</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ useradd -M -d /opt/nexus -s /bin/bash -r nexus</span><br></pre></td></tr></table></figure><p>允許nexus用戶可以使用無密碼的sudo運行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;nexus   ALL=(ALL)       NOPASSWD: ALL&quot;</span> &gt; /etc/sudoers.d/nexus</span><br></pre></td></tr></table></figure><h2 id="安裝nexus"><a href="#安裝nexus" class="headerlink" title="安裝nexus"></a>安裝nexus</h2><p>先建立nexus目錄</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> /opt/nexus</span><br></pre></td></tr></table></figure><p>解開nexus到剛剛建立好的目錄底下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf nexus-3.33.1-01-unix.tar.gz -C /opt/nexus --strip-components=1</span><br></pre></td></tr></table></figure><p>修改權限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">chown</span> -R nexus: /opt/nexus</span><br></pre></td></tr></table></figure><h2 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h2><h3 id="調整nexus內存大小"><a href="#調整nexus內存大小" class="headerlink" title="調整nexus內存大小"></a>調整nexus內存大小</h3><p>調整自身機器合適的大小,這邊測試調整成2G</p><p>開啟&#x2F;opt&#x2F;nexus&#x2F;bin&#x2F;nexus.vmoptions</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-Xms2048m</span><br><span class="line">-Xmx2048m</span><br><span class="line">-XX:MaxDirectMemorySize=2048m</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h3 id="調整nexus相對路徑"><a href="#調整nexus相對路徑" class="headerlink" title="調整nexus相對路徑"></a>調整nexus相對路徑</h3><p>因為剛剛解開nexus的時候把sonatype-work目錄的位置移上了一層<br>所以這邊相對路徑就需要調整一下</p><p>開啟&#x2F;opt&#x2F;nexus&#x2F;bin&#x2F;nexus.vmoptions</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">-XX:LogFile=./sonatype-work/nexus3/log/jvm.log</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">-Dkaraf.data=./sonatype-work/nexus3</span><br><span class="line">-Dkaraf.<span class="built_in">log</span>=./sonatype-work/nexus3/log</span><br><span class="line">-Djava.io.tmpdir=./sonatype-work/nexus3/tmp</span><br></pre></td></tr></table></figure><h3 id="修改nexus運行帳號"><a href="#修改nexus運行帳號" class="headerlink" title="修改nexus運行帳號"></a>修改nexus運行帳號</h3><p>修改nexus運行時使用帳號<br>請修改成剛剛專門建立的帳號</p><p>開啟&#x2F;opt&#x2F;nexus&#x2F;bin&#x2F;nexus.rc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run_as_user=<span class="string">&quot;nexus&quot;</span></span><br></pre></td></tr></table></figure><h3 id="修改nexus對外port"><a href="#修改nexus對外port" class="headerlink" title="修改nexus對外port"></a>修改nexus對外port</h3><p>預設port是8081如果不需要調整請跳過這一步<br>因為測試環境的關係這邊改成9090</p><p>開啟&#x2F;opt&#x2F;nexus&#x2F;etc&#x2F;nexus-default.properties</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## DO NOT EDIT - CUSTOMIZATIONS BELONG IN $data-dir/etc/nexus.properties</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Jetty section</span></span><br><span class="line">application-port=9090</span><br><span class="line">application-host=0.0.0.0</span><br></pre></td></tr></table></figure><h2 id="啟動nexus"><a href="#啟動nexus" class="headerlink" title="啟動nexus"></a>啟動nexus</h2><h3 id="啟動服務"><a href="#啟動服務" class="headerlink" title="啟動服務"></a>啟動服務</h3><p>啟動</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> -u nexus /opt/nexus/bin/nexus start</span><br></pre></td></tr></table></figure><h3 id="監看log"><a href="#監看log" class="headerlink" title="監看log"></a>監看log</h3><p>監看log</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">tail</span> -f /opt/nexus/sonatype-work/nexus3/log/nexus.log</span><br></pre></td></tr></table></figure><p>第一次登入會看到以下畫面,預設帳號為admin</p><img src="/2021/09/25/nexus-install/nexus1.png" class=""><h3 id="獲取密碼"><a href="#獲取密碼" class="headerlink" title="獲取密碼"></a>獲取密碼</h3><p>獲取第一次登入密碼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /opt/nexus/sonatype-work/nexus3/admin.password</span><br></pre></td></tr></table></figure><h3 id="初始設定"><a href="#初始設定" class="headerlink" title="初始設定"></a>初始設定</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.修改管理者密碼</span><br><span class="line">2.根據需求調整,這邊我選擇關閉匿名用戶登入</span><br><span class="line">3.關閉問題回饋</span><br></pre></td></tr></table></figure><p>登入後做完第一次設定後服務就正式裝好啦!</p><img src="/2021/09/25/nexus-install/nexus2.png" class=""><h2 id="系統服務"><a href="#系統服務" class="headerlink" title="系統服務"></a>系統服務</h2><h3 id="建立腳本"><a href="#建立腳本" class="headerlink" title="建立腳本"></a>建立腳本</h3><p>建立&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;nexus.service</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nexus service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">LimitNOFILE=65536</span><br><span class="line">ExecStart=/opt/nexus/bin/nexus start</span><br><span class="line">ExecStop=/opt/nexus/bin/nexus stop</span><br><span class="line">User=nexus</span><br><span class="line">Restart=on-abort</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><h3 id="重載systemd"><a href="#重載systemd" class="headerlink" title="重載systemd"></a>重載systemd</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl daemon-reload</span><br></pre></td></tr></table></figure><h3 id="啟用服務"><a href="#啟用服務" class="headerlink" title="啟用服務"></a>啟用服務</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> --now nexus.service</span><br></pre></td></tr></table></figure><h3 id="查看服務狀態"><a href="#查看服務狀態" class="headerlink" title="查看服務狀態"></a>查看服務狀態</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl status nexus.service</span><br></pre></td></tr></table></figure><p>服務正常運行,這樣我們以後就可以透過systemctl管理服務了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root@pcionserver:/etc/systemd/system# root@pcionserver:/etc/systemd/system# systemctl status nexus.service</span><br><span class="line">● nexus.service - nexus service</span><br><span class="line">     Loaded: loaded (/etc/systemd/system/nexus.service; enabled; vendor preset: enabled)</span><br><span class="line">     Active: active (running) since Sat 2021-09-25 07:51:16 UTC; 6min ago</span><br><span class="line">    Process: 8292 ExecStart=/opt/nexus/bin/nexus start (code=exited, status=0/SUCCESS)</span><br><span class="line">   Main PID: 8486 (java)</span><br><span class="line">      Tasks: 80 (<span class="built_in">limit</span>: 4616)</span><br><span class="line">     Memory: 1.3G</span><br><span class="line">     CGroup: /system.slice/nexus.service</span><br><span class="line">             └─8486 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -server -Dinstall4j.jvmDir=/usr/lib/jvm/java-8-openjdk-amd64/jre -Dexe4j.moduleName=/opt/nexus/bin/nexus -XX:+UnlockDiag&gt;</span><br><span class="line"></span><br><span class="line">Sep 25 07:51:16 pcionserver systemd[1]: Starting nexus service...</span><br><span class="line">Sep 25 07:51:16 pcionserver nexus[8292]: Starting nexus</span><br><span class="line">Sep 25 07:51:16 pcionserver systemd[1]: Started nexus service.</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安裝JDK&quot;&gt;&lt;a href=&quot;#安裝JDK&quot; class=&quot;headerlink&quot; title=&quot;安裝JDK&quot;&gt;&lt;/a&gt;安裝JDK&lt;/h2&gt;&lt;a href=&quot;/2019/03/10/java-installopenjdk/&quot; title=&quot;安裝OpenJDK&quot;&gt;請參考之前的文章&lt;/a&gt;

&lt;h2 id=&quot;下載nexus&quot;&gt;&lt;a href=&quot;#下載nexus&quot; class=&quot;headerlink&quot; title=&quot;下載nexus&quot;&gt;&lt;/a&gt;下載nexus&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.sonatype.com/products/repository-oss-download&quot;&gt;官方下載&lt;/a&gt;&lt;br&gt;或者&lt;br&gt;&lt;a href=&quot;https://sonatype-download.global.ssl.fastly.net/repository/downloads-prod-group/3/nexus-3.33.1-01-unix.tar.gz&quot;&gt;nexus-3.33.1-01-unix&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="maven" scheme="https://pcion123.github.io/categories/maven/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="maven" scheme="https://pcion123.github.io/tags/maven/"/>
    
      <category term="nexus" scheme="https://pcion123.github.io/tags/nexus/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝Minikube</title>
    <link href="https://pcion123.github.io/2021/08/21/minikube-install/"/>
    <id>https://pcion123.github.io/2021/08/21/minikube-install/</id>
    <published>2021-08-21T06:02:15.000Z</published>
    <updated>2025-08-13T14:31:49.406Z</updated>
    
    <content type="html"><![CDATA[<p>繼上次的docker安裝今天要繼續部屬kubernetes的內容</p><h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>minikube是由google開發的精簡版kubernetes工具<br>可以簡單的模擬k8s底下的環境運作</p><span id="more"></span><h2 id="安裝容器"><a href="#安裝容器" class="headerlink" title="安裝容器"></a>安裝容器</h2><p>kubernetese提供多樣的容器部屬環境<br>這邊我們選用docker當作容器的底層</p><a href="/2021/08/21/docker-install/" title="Ubuntu安裝Docker">請參考之前的文章</a><h2 id="安裝kubectl"><a href="#安裝kubectl" class="headerlink" title="安裝kubectl"></a>安裝kubectl</h2><p>kubectl是一套管理kubernetes的命令工具</p><h3 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新套件管理</span></span><br><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="comment"># 安裝套件倉庫</span></span><br><span class="line">$ <span class="built_in">sudo</span> apt install -y apt-transport-https ca-certificates curl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下載倉庫憑證</span></span><br><span class="line">$ <span class="built_in">sudo</span> curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg</span><br><span class="line"><span class="comment"># 加入憑證信任列表</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list</span><br><span class="line"></span><br><span class="line">deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新套件管理</span></span><br><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="comment"># 安裝kubectl</span></span><br><span class="line">$ <span class="built_in">sudo</span> apt install kubectl -y</span><br></pre></td></tr></table></figure><h3 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl version --short --client</span><br><span class="line"></span><br><span class="line">Client Version: v1.22.1</span><br></pre></td></tr></table></figure><h2 id="安裝minikube"><a href="#安裝minikube" class="headerlink" title="安裝minikube"></a>安裝minikube</h2><p>現在開始安裝主角</p><h3 id="安裝-1"><a href="#安裝-1" class="headerlink" title="安裝"></a>安裝</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下載安裝包</span></span><br><span class="line">$ curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube_latest_amd64.deb</span><br><span class="line"><span class="comment"># 安裝套件</span></span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i minikube_latest_amd64.deb</span><br><span class="line"></span><br><span class="line">Selecting previously unselected package minikube.</span><br><span class="line">(Reading database ... 71806 files and directories currently installed.)</span><br><span class="line">Preparing to unpack minikube_latest_amd64.deb ...</span><br><span class="line">Unpacking minikube (1.22.0-0) ...</span><br><span class="line">Setting up minikube (1.22.0-0) ...</span><br></pre></td></tr></table></figure><h3 id="查看版本-1"><a href="#查看版本-1" class="headerlink" title="查看版本"></a>查看版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ minikube version</span><br><span class="line"></span><br><span class="line">minikube version: v1.22.0</span><br><span class="line">commit: a03fbcf166e6f74ef224d4a63be4277d017bb62e</span><br></pre></td></tr></table></figure><h3 id="啟動"><a href="#啟動" class="headerlink" title="啟動"></a>啟動</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ minikube start</span><br><span class="line"></span><br><span class="line">😄  minikube v1.22.0 on Ubuntu 20.04 (vbox/amd64)</span><br><span class="line">✨  Automatically selected the docker driver. Other choices: ssh, none</span><br><span class="line">👍  Starting control plane node minikube <span class="keyword">in</span> cluster minikube</span><br><span class="line">🚜  Pulling base image ...</span><br><span class="line">💾  Downloading Kubernetes v1.21.2 preload ...</span><br><span class="line">    &gt; preloaded-images-k8s-v11-v1...: 502.14 MiB / 502.14 MiB  100.00% 7.08 MiB</span><br><span class="line">    &gt; gcr.io/k8s-minikube/kicbase...: 361.08 MiB / 361.09 MiB  100.00% 3.95 MiB</span><br><span class="line">🔥  Creating docker container (CPUs=2, Memory=2200MB) ...</span><br><span class="line">🐳  Preparing Kubernetes v1.21.2 on Docker 20.10.7 ...</span><br><span class="line">    ▪ Generating certificates and keys ...</span><br><span class="line">    ▪ Booting up control plane ...</span><br><span class="line">    ▪ Configuring RBAC rules ...</span><br><span class="line">🔎  Verifying Kubernetes components...</span><br><span class="line">    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5</span><br><span class="line">🌟  Enabled addons: storage-provisioner, default-storageclass</span><br><span class="line">🏄  Done! kubectl is now configured to use <span class="string">&quot;minikube&quot;</span> cluster and <span class="string">&quot;default&quot;</span> namespace by default</span><br></pre></td></tr></table></figure><h3 id="啟動dashboard"><a href="#啟動dashboard" class="headerlink" title="啟動dashboard"></a>啟動dashboard</h3><p>正常的kubernetes的dashboard需要另外安裝的<br>但是minikube已經自帶dashboard套件只需啟動就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ minikube dashboard</span><br><span class="line"></span><br><span class="line">🔌  Enabling dashboard ...</span><br><span class="line">    ▪ Using image kubernetesui/dashboard:v2.1.0</span><br><span class="line">    ▪ Using image kubernetesui/metrics-scraper:v1.0.4</span><br><span class="line">🤔  Verifying dashboard health ...</span><br><span class="line">🚀  Launching proxy ...</span><br><span class="line">🤔  Verifying proxy health ...</span><br><span class="line">🎉  Opening http://127.0.0.1:33657/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ <span class="keyword">in</span> your default browser...</span><br><span class="line">👉  http://127.0.0.1:33657/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/</span><br></pre></td></tr></table></figure><h3 id="開啟proxy"><a href="#開啟proxy" class="headerlink" title="開啟proxy"></a>開啟proxy</h3><p>一般來說啟動dashboard就會自動幫你開啟瀏覽器到dashboard的頁面中了<br>但是筆者的環境是裝在virtualbox的ubuntu-server底下<br>所以就需要另外提供外連的方式了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl proxy --address=<span class="string">&#x27;0.0.0.0&#x27;</span> --port=8001 --accept-hosts=<span class="string">&#x27;^*$&#x27;</span></span><br><span class="line"></span><br><span class="line">Starting to serve on [::]:8001</span><br></pre></td></tr></table></figure><p>這樣就大功告成啦!</p><img src="/2021/08/21/minikube-install/minikube.png" class=""><h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><p>安裝過程設定如果出了什麼問題想要重置<br>我們可刪掉整個minikube設置重來</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 刪除minikube環境</span></span><br><span class="line">$ minikube delete &amp;&amp; <span class="built_in">rm</span> -rf ~/.minikube</span><br><span class="line"><span class="comment"># 重啟minikube</span></span><br><span class="line">$ minikube start</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;繼上次的docker安裝今天要繼續部屬kubernetes的內容&lt;/p&gt;
&lt;h2 id=&quot;簡介&quot;&gt;&lt;a href=&quot;#簡介&quot; class=&quot;headerlink&quot; title=&quot;簡介&quot;&gt;&lt;/a&gt;簡介&lt;/h2&gt;&lt;p&gt;minikube是由google開發的精簡版kubernetes工具&lt;br&gt;可以簡單的模擬k8s底下的環境運作&lt;/p&gt;
    
    </summary>
    
    
      <category term="kubernetes" scheme="https://pcion123.github.io/categories/kubernetes/"/>
    
    
      <category term="docker" scheme="https://pcion123.github.io/tags/docker/"/>
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="minikube" scheme="https://pcion123.github.io/tags/minikube/"/>
    
      <category term="kubernetes" scheme="https://pcion123.github.io/tags/kubernetes/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝Docker</title>
    <link href="https://pcion123.github.io/2021/08/21/docker-install/"/>
    <id>https://pcion123.github.io/2021/08/21/docker-install/</id>
    <published>2021-08-21T05:36:17.000Z</published>
    <updated>2025-08-13T14:31:49.388Z</updated>
    
    <content type="html"><![CDATA[<p>docker是目前容器化部屬最火紅的方案<br>廢話不多說現在趕快來看看怎麼安裝吧!</p><h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line">$ <span class="built_in">sudo</span> install docker.io</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">$ docker version</span><br><span class="line">Client:</span><br><span class="line"> Version:           20.10.7</span><br><span class="line"> API version:       1.41</span><br><span class="line"> Go version:        go1.13.8</span><br><span class="line"> Git commit:        20.10.7-0ubuntu1~20.04.1</span><br><span class="line"> Built:             Wed Aug  4 22:52:25 2021</span><br><span class="line"> OS/Arch:           linux/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"> Experimental:      <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Server:</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.7</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.13.8</span><br><span class="line">  Git commit:       20.10.7-0ubuntu1~20.04.1</span><br><span class="line">  Built:            Wed Aug  4 19:07:47 2021</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     <span class="literal">false</span></span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.5.2-0ubuntu1~20.04.2</span><br><span class="line">  GitCommit:</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.0.0~rc95-0ubuntu1~20.04.2</span><br><span class="line">  GitCommit:</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:</span><br></pre></td></tr></table></figure><h2 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ docker run hello-world</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the <span class="string">&quot;hello-world&quot;</span> image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image <span class="built_in">which</span> runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, <span class="built_in">which</span> sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure><h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><p>如果我們希望docker可以用特定的user執行的話可以參照以下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 將用戶加入docker群組中</span></span><br><span class="line">$ <span class="built_in">sudo</span> usermod -aG docker <span class="variable">$USER</span></span><br><span class="line"><span class="comment"># 套用新的群組設定</span></span><br><span class="line">$ <span class="built_in">sudo</span> newgrp docker</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;docker是目前容器化部屬最火紅的方案&lt;br&gt;廢話不多說現在趕快來看看怎麼安裝吧!&lt;/p&gt;
&lt;h2 id=&quot;安裝&quot;&gt;&lt;a href=&quot;#安裝&quot; class=&quot;headerlink&quot; title=&quot;安裝&quot;&gt;&lt;/a&gt;安裝&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; install docker.io&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="docker" scheme="https://pcion123.github.io/categories/docker/"/>
    
    
      <category term="docker" scheme="https://pcion123.github.io/tags/docker/"/>
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>安裝Nginx</title>
    <link href="https://pcion123.github.io/2020/11/14/nginx-install/"/>
    <id>https://pcion123.github.io/2020/11/14/nginx-install/</id>
    <published>2020-11-14T09:47:09.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝Nginx"><a href="#安裝Nginx" class="headerlink" title="安裝Nginx"></a>安裝Nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt install nginx</span><br></pre></td></tr></table></figure><h2 id="config路徑"><a href="#config路徑" class="headerlink" title="config路徑"></a>config路徑</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查詢config路徑</span></span><br><span class="line">$ nginx -t</span><br><span class="line"><span class="comment"># ubuntu預設會在/etc/nginx底下</span></span><br></pre></td></tr></table></figure><h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 啟動nginx</span></span><br><span class="line">$ systemctl start nginx</span><br><span class="line"><span class="comment"># 停止ngnix</span></span><br><span class="line">$ systemctl stop nginx</span><br><span class="line"><span class="comment"># 重載ngnix</span></span><br><span class="line">$ systemctl reload nginx</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="頁面測試-http-127-0-0-1"><a href="#頁面測試-http-127-0-0-1" class="headerlink" title="頁面測試 http://127.0.0.1"></a>頁面測試 <a href="http://127.0.0.1/">http://127.0.0.1</a></h2><img src="/2020/11/14/nginx-install/nginx1.png" class="" title="安裝完成"><p>以下內容偏向心得筆記</p><h2 id="設定proxy"><a href="#設定proxy" class="headerlink" title="設定proxy"></a>設定proxy</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="comment"># 監聽 80 port</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">80</span>;</span><br><span class="line">    <span class="comment"># 設置進來的domainname或ip</span></span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line">    <span class="comment"># 設置routing</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="comment"># 轉發</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:9001;</span><br><span class="line">        <span class="comment"># 轉發request的header內容</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$http_x_forwarded_proto</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="設定loadbalance"><a href="#設定loadbalance" class="headerlink" title="設定loadbalance"></a>設定loadbalance</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 設置輪巡節點</span></span><br><span class="line"><span class="section">upstream</span> servicemapping &#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">127.0.0.1:9001</span> weight=<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">127.0.0.1:9002</span> weight=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="comment"># 監聽 80 port</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">80</span>;</span><br><span class="line">    <span class="comment"># 設置進來的domainname或ip</span></span><br><span class="line">    <span class="attribute">server_name</span> my.app.test;</span><br><span class="line"><span class="comment"># 設置routing</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="comment"># 轉發</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://servicemapping;</span><br><span class="line">        <span class="comment"># 轉發request的header內容</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$http_x_forwarded_proto</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="兩次請求結果"><a href="#兩次請求結果" class="headerlink" title="兩次請求結果"></a>兩次請求結果</h2><img src="/2020/11/14/nginx-install/nginx2.png" class=""><img src="/2020/11/14/nginx-install/nginx3.png" class="">]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安裝Nginx&quot;&gt;&lt;a href=&quot;#安裝Nginx&quot; class=&quot;headerlink&quot; title=&quot;安裝Nginx&quot;&gt;&lt;/a&gt;安裝Nginx&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ apt install nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;config路徑&quot;&gt;&lt;a href=&quot;#config路徑&quot; class=&quot;headerlink&quot; title=&quot;config路徑&quot;&gt;&lt;/a&gt;config路徑&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查詢config路徑&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ nginx -t&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ubuntu預設會在/etc/nginx底下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;基本指令&quot;&gt;&lt;a href=&quot;#基本指令&quot; class=&quot;headerlink&quot; title=&quot;基本指令&quot;&gt;&lt;/a&gt;基本指令&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 啟動nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl start nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 停止ngnix&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl stop nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 重載ngnix&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ systemctl reload nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="nginx" scheme="https://pcion123.github.io/categories/nginx/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="nginx" scheme="https://pcion123.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝Codimd</title>
    <link href="https://pcion123.github.io/2020/07/05/codimd-install/"/>
    <id>https://pcion123.github.io/2020/07/05/codimd-install/</id>
    <published>2020-07-05T08:21:25.000Z</published>
    <updated>2025-08-13T14:31:49.372Z</updated>
    
    <content type="html"><![CDATA[<h2 id="相關介紹"><a href="#相關介紹" class="headerlink" title="相關介紹"></a>相關介紹</h2><p><a href="https://github.com/hackmdio/codimd">github</a><br><a href="https://hackmd.io/c/codimd-documentation/%2Fs%2Fcodimd-manual-deployment">manual-deployment</a></p><h2 id="安裝nodejs"><a href="#安裝nodejs" class="headerlink" title="安裝nodejs"></a>安裝nodejs</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝版本庫</span></span><br><span class="line">$ curl -sL https://deb.nodesource.com/setup_10.x | <span class="built_in">sudo</span> -E bash -</span><br><span class="line"><span class="comment"># 安裝nodejs</span></span><br><span class="line">$ apt install -y nodejs</span><br><span class="line"><span class="comment"># 查看nodejs版本</span></span><br><span class="line">$ node -v</span><br><span class="line"><span class="comment"># 查看npm版本</span></span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure><h2 id="安裝相關依賴"><a href="#安裝相關依賴" class="headerlink" title="安裝相關依賴"></a>安裝相關依賴</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g yarn</span><br><span class="line">$ npm install -g node-gyp</span><br><span class="line">$ npm install -g sqlite3</span><br><span class="line">$ npm install -g webpack</span><br></pre></td></tr></table></figure><h2 id="安裝codimd"><a href="#安裝codimd" class="headerlink" title="安裝codimd"></a>安裝codimd</h2><h3 id="設置環境變數"><a href="#設置環境變數" class="headerlink" title="設置環境變數"></a>設置環境變數</h3><p>打開&#x2F;etc&#x2F;profile這個檔案並且在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:NODE_ENV=production</span><br></pre></td></tr></table></figure><h3 id="抓取項目-opt"><a href="#抓取項目-opt" class="headerlink" title="抓取項目(&#x2F;opt)"></a>抓取項目(&#x2F;opt)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/hackmdio/codimd.git</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h3><h4 id="先修改安裝配置bin-setup"><a href="#先修改安裝配置bin-setup" class="headerlink" title="先修改安裝配置bin&#x2F;setup"></a>先修改安裝配置bin&#x2F;setup</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;install packages&quot;</span></span><br><span class="line">npm install --production --unsafe-perm=<span class="literal">true</span> --allow-root</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h4 id="執行安裝配置"><a href="#執行安裝配置" class="headerlink" title="執行安裝配置"></a>執行安裝配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> bash bin/setup</span><br></pre></td></tr></table></figure><h3 id="修改環境配置"><a href="#修改環境配置" class="headerlink" title="修改環境配置"></a>修改環境配置</h3><p>編輯config.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">    &quot;production&quot;: &#123;</span><br><span class="line">        &quot;host&quot;: &quot;0.0.0.0&quot;, // 設置來源</span><br><span class="line">        &quot;port&quot;: 3000, // 設置port</span><br><span class="line">        &quot;loglevel&quot;: &quot;info&quot;,</span><br><span class="line">        &quot;hsts&quot;: &#123;</span><br><span class="line">            &quot;enable&quot;: true,</span><br><span class="line">            &quot;maxAgeSeconds&quot;: 31536000,</span><br><span class="line">            &quot;includeSubdomains&quot;: true,</span><br><span class="line">            &quot;preload&quot;: true</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;csp&quot;: &#123;</span><br><span class="line">            &quot;enable&quot;: true,</span><br><span class="line">            &quot;directives&quot;: &#123;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;upgradeInsecureRequests&quot;: &quot;auto&quot;,</span><br><span class="line">            &quot;addDefaults&quot;: true,</span><br><span class="line">            &quot;addDisqus&quot;: true,</span><br><span class="line">            &quot;addGoogleAnalytics&quot;: true</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;db&quot;: &#123;</span><br><span class="line">            &quot;username&quot;: &quot;帳號&quot;, // 設置db帳號</span><br><span class="line">            &quot;password&quot;: &quot;密碼&quot;, // 設置db密碼</span><br><span class="line">            &quot;database&quot;: &quot;資料庫&quot;, // 設置資料庫名稱</span><br><span class="line">            &quot;host&quot;: &quot;localhost&quot;,</span><br><span class="line">            &quot;port&quot;: &quot;3306&quot;,</span><br><span class="line">            &quot;dialect&quot;: &quot;mysql&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        &quot;linkifyHeaderStyle&quot;: &quot;gfm&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>編輯.sequelizerc</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    &#x27;config&#x27;:          path.resolve(&#x27;config.json&#x27;),</span><br><span class="line">    &#x27;migrations-path&#x27;: path.resolve(&#x27;lib&#x27;, &#x27;migrations&#x27;),</span><br><span class="line">    &#x27;models-path&#x27;:     path.resolve(&#x27;lib&#x27;, &#x27;models&#x27;),</span><br><span class="line">    &#x27;url&#x27;:             &#x27;mysql://&#123;db帳號&#125;:&#123;db密碼&#125;@localhost:3306/codimd&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>編輯lib&#x2F;config&#x2F;default.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"> allowAnonymous: false, // 關閉匿名登入</span><br><span class="line"> allowAnonymousEdits: false, // 關閉匿名編輯</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"> email: true, // 開啟email使用</span><br><span class="line"> allowEmailRegister: true, // 允許email註冊</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h2 id="啟動"><a href="#啟動" class="headerlink" title="啟動"></a>啟動</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm run build // 重新編輯前端頁面</span><br><span class="line">$ node app.js // 啟動服務</span><br></pre></td></tr></table></figure><img src="/2020/07/05/codimd-install/codimd1.png" class=""><img src="/2020/07/05/codimd-install/codimd2.png" class=""><img src="/2020/07/05/codimd-install/codimd3.png" class="">]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;相關介紹&quot;&gt;&lt;a href=&quot;#相關介紹&quot; class=&quot;headerlink&quot; title=&quot;相關介紹&quot;&gt;&lt;/a&gt;相關介紹&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/hackmdio/codimd&quot;&gt;github&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://hackmd.io/c/codimd-documentation/%2Fs%2Fcodimd-manual-deployment&quot;&gt;manual-deployment&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;安裝nodejs&quot;&gt;&lt;a href=&quot;#安裝nodejs&quot; class=&quot;headerlink&quot; title=&quot;安裝nodejs&quot;&gt;&lt;/a&gt;安裝nodejs&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安裝版本庫&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ curl -sL https://deb.nodesource.com/setup_10.x | &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; -E bash -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安裝nodejs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ apt install -y nodejs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查看nodejs版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ node -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查看npm版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm -v&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;安裝相關依賴&quot;&gt;&lt;a href=&quot;#安裝相關依賴&quot; class=&quot;headerlink&quot; title=&quot;安裝相關依賴&quot;&gt;&lt;/a&gt;安裝相關依賴&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install -g yarn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install -g node-gyp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install -g sqlite3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install -g webpack&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;安裝codimd&quot;&gt;&lt;a href=&quot;#安裝codimd&quot; class=&quot;headerlink&quot; title=&quot;安裝codimd&quot;&gt;&lt;/a&gt;安裝codimd&lt;/h2&gt;&lt;h3 id=&quot;設置環境變數&quot;&gt;&lt;a href=&quot;#設置環境變數&quot; class=&quot;headerlink&quot; title=&quot;設置環境變數&quot;&gt;&lt;/a&gt;設置環境變數&lt;/h3&gt;&lt;p&gt;打開&amp;#x2F;etc&amp;#x2F;profile這個檔案並且在末尾加入：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PATH=&lt;span class=&quot;variable&quot;&gt;$PATH&lt;/span&gt;:NODE_ENV=production&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;抓取項目-opt&quot;&gt;&lt;a href=&quot;#抓取項目-opt&quot; class=&quot;headerlink&quot; title=&quot;抓取項目(&amp;#x2F;opt)&quot;&gt;&lt;/a&gt;抓取項目(&amp;#x2F;opt)&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; https://github.com/hackmdio/codimd.git&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://pcion123.github.io/categories/linux/"/>
    
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="codimd" scheme="https://pcion123.github.io/tags/codimd/"/>
    
      <category term="hackmd" scheme="https://pcion123.github.io/tags/hackmd/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝RabbitMQ</title>
    <link href="https://pcion123.github.io/2020/05/10/rabbitmq-install/"/>
    <id>https://pcion123.github.io/2020/05/10/rabbitmq-install/</id>
    <published>2020-05-10T10:34:10.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝erlang"><a href="#安裝erlang" class="headerlink" title="安裝erlang"></a>安裝erlang</h2><p>rabbitmq需要依靠erlang驅動，<br>所以我們需要先安裝erlang</p><p>使用<a href="https://www.erlang-solutions.com/resources/download.html#tabs-debian">repository</a>安裝:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://packages.erlang-solutions.com/erlang-solutions_2.0_all.deb</span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i erlang-solutions_2.0_all.deb</span><br><span class="line">$ <span class="built_in">sudo</span> apt install esl-erlang</span><br></pre></td></tr></table></figure><h2 id="安裝rabbitmq"><a href="#安裝rabbitmq" class="headerlink" title="安裝rabbitmq"></a>安裝rabbitmq</h2><p>github<a href="https://www.rabbitmq.com/install-debian.html#manual-installation">手動</a>安裝:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.8.3/rabbitmq-server_3.8.3-1_all.deb</span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i rabbitmq-server_3.8.3-1_all.deb</span><br></pre></td></tr></table></figure><span id="more"></span><p>如果安裝過程有問題可以試著apt指令修復</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt --fix-broken install</span><br></pre></td></tr></table></figure><h2 id="修改rabbitmq管理插件"><a href="#修改rabbitmq管理插件" class="headerlink" title="修改rabbitmq管理插件"></a>修改rabbitmq管理插件</h2><p>安裝完rabbitmq之後,<br>我們會需要一個可以管理的工具,<br>rabbitmq很好的提供web的管理工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_management</span><br></pre></td></tr></table></figure><p>安裝完畢後重啟服務<br>接著在瀏覽器輸入<a href="http://localhost:15672/">http://localhost:15672</a></p><img src="/2020/05/10/rabbitmq-install/rabbitmq1.png" class=""><h2 id="修改rabbitmq設置"><a href="#修改rabbitmq設置" class="headerlink" title="修改rabbitmq設置"></a>修改rabbitmq設置</h2><p>因為rabbitmq預設guest帳號只給本機登入，<br>如果需要開放外部登入就要修改設置</p><p>打開&#x2F;etc&#x2F;rabbitmq&#x2F;rabbitmq.config，<br>加入以下設置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">&#123;</span><br><span class="line">rabbit,</span><br><span class="line">[&#123;loopback_users, [<span class="string">&quot;guest&quot;</span>]&#125;]</span><br><span class="line">&#125;</span><br><span class="line">].</span><br></pre></td></tr></table></figure><p>重啟服務之後我們就可以用guset帳號登入了</p><img src="/2020/05/10/rabbitmq-install/rabbitmq2.png" class="">]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安裝erlang&quot;&gt;&lt;a href=&quot;#安裝erlang&quot; class=&quot;headerlink&quot; title=&quot;安裝erlang&quot;&gt;&lt;/a&gt;安裝erlang&lt;/h2&gt;&lt;p&gt;rabbitmq需要依靠erlang驅動，&lt;br&gt;所以我們需要先安裝erlang&lt;/p&gt;
&lt;p&gt;使用&lt;a href=&quot;https://www.erlang-solutions.com/resources/download.html#tabs-debian&quot;&gt;repository&lt;/a&gt;安裝:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wget https://packages.erlang-solutions.com/erlang-solutions_2.0_all.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; dpkg -i erlang-solutions_2.0_all.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt install esl-erlang&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;安裝rabbitmq&quot;&gt;&lt;a href=&quot;#安裝rabbitmq&quot; class=&quot;headerlink&quot; title=&quot;安裝rabbitmq&quot;&gt;&lt;/a&gt;安裝rabbitmq&lt;/h2&gt;&lt;p&gt;github&lt;a href=&quot;https://www.rabbitmq.com/install-debian.html#manual-installation&quot;&gt;手動&lt;/a&gt;安裝:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.8.3/rabbitmq-server_3.8.3-1_all.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; dpkg -i rabbitmq-server_3.8.3-1_all.deb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://pcion123.github.io/categories/linux/"/>
    
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="rabbitmq" scheme="https://pcion123.github.io/tags/rabbitmq/"/>
    
  </entry>
  
  <entry>
    <title>Windows Terminal主題配置</title>
    <link href="https://pcion123.github.io/2020/03/09/windowsterminal-scheme/"/>
    <id>https://pcion123.github.io/2020/03/09/windowsterminal-scheme/</id>
    <published>2020-03-09T11:50:31.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<img src="/2020/03/09/windowsterminal-scheme/terminal1.png" class=""><span id="more"></span><p>打開WindowsTerminal的Setting設置主題</p><p><a href="https://draculatheme.com/windows-terminal/">Dracula主題</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;profiles&quot;</span>:</span><br><span class="line">[</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;Windows PowerShell&quot;</span>,</span><br><span class="line"><span class="string">&quot;commandline&quot;</span>: <span class="string">&quot;powershell.exe&quot;</span>,</span><br><span class="line"><span class="string">&quot;cursorColor&quot;</span> : <span class="string">&quot;#657B83&quot;</span>, // 光標顏色</span><br><span class="line"><span class="string">&quot;cursorShape&quot;</span> : <span class="string">&quot;vintage&quot;</span>, // 光標類型</span><br><span class="line"><span class="string">&quot;colorScheme&quot;</span> : <span class="string">&quot;Dracula&quot;</span>, // 配置主題</span><br><span class="line"><span class="string">&quot;fontFace&quot;</span> : <span class="string">&quot;DejaVu Sans Mono for Powerline&quot;</span>, // 字型</span><br><span class="line"><span class="string">&quot;fontSize&quot;</span> : 12, // 字型大小</span><br><span class="line"><span class="string">&quot;hidden&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span>: <span class="string">&quot;cmd&quot;</span>,</span><br><span class="line"><span class="string">&quot;commandline&quot;</span>: <span class="string">&quot;cmd.exe&quot;</span>,</span><br><span class="line"><span class="string">&quot;cursorColor&quot;</span> : <span class="string">&quot;#657B83&quot;</span>,</span><br><span class="line"><span class="string">&quot;cursorShape&quot;</span> : <span class="string">&quot;vintage&quot;</span>,</span><br><span class="line"><span class="string">&quot;colorScheme&quot;</span> : <span class="string">&quot;Dracula&quot;</span>,</span><br><span class="line"><span class="string">&quot;fontFace&quot;</span> : <span class="string">&quot;DejaVu Sans Mono for Powerline&quot;</span>,</span><br><span class="line"><span class="string">&quot;fontSize&quot;</span> : 12,</span><br><span class="line"><span class="string">&quot;hidden&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">],</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;schemes&quot;</span>:</span><br><span class="line">[</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span> : <span class="string">&quot;Dracula&quot;</span>,</span><br><span class="line"><span class="string">&quot;background&quot;</span> : <span class="string">&quot;#282A36&quot;</span>,</span><br><span class="line"><span class="string">&quot;black&quot;</span> : <span class="string">&quot;#21222C&quot;</span>,</span><br><span class="line"><span class="string">&quot;blue&quot;</span> : <span class="string">&quot;#BD93F9&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightBlack&quot;</span> : <span class="string">&quot;#6272A4&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightBlue&quot;</span> : <span class="string">&quot;#D6ACFF&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightCyan&quot;</span> : <span class="string">&quot;#A4FFFF&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightGreen&quot;</span> : <span class="string">&quot;#69FF94&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightPurple&quot;</span> : <span class="string">&quot;#FF92DF&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightRed&quot;</span> : <span class="string">&quot;#FF6E6E&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightWhite&quot;</span> : <span class="string">&quot;#FFFFFF&quot;</span>,</span><br><span class="line"><span class="string">&quot;brightYellow&quot;</span> : <span class="string">&quot;#FFFFA5&quot;</span>,</span><br><span class="line"><span class="string">&quot;cyan&quot;</span> : <span class="string">&quot;#8BE9FD&quot;</span>,</span><br><span class="line"><span class="string">&quot;foreground&quot;</span> : <span class="string">&quot;#F8F8F2&quot;</span>,</span><br><span class="line"><span class="string">&quot;green&quot;</span> : <span class="string">&quot;#50FA7B&quot;</span>,</span><br><span class="line"><span class="string">&quot;purple&quot;</span> : <span class="string">&quot;#FF79C6&quot;</span>,</span><br><span class="line"><span class="string">&quot;red&quot;</span> : <span class="string">&quot;#FF5555&quot;</span>,</span><br><span class="line"><span class="string">&quot;white&quot;</span> : <span class="string">&quot;#F8F8F2&quot;</span>,</span><br><span class="line"><span class="string">&quot;yellow&quot;</span> : <span class="string">&quot;#F1FA8C&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2020/03/09/windowsterminal-scheme/terminal1.png&quot; class=&quot;&quot;&gt;
    
    </summary>
    
    
      <category term="windows" scheme="https://pcion123.github.io/categories/windows/"/>
    
    
      <category term="windows" scheme="https://pcion123.github.io/tags/windows/"/>
    
      <category term="powershell" scheme="https://pcion123.github.io/tags/powershell/"/>
    
      <category term="terminal" scheme="https://pcion123.github.io/tags/terminal/"/>
    
  </entry>
  
  <entry>
    <title>美化PowerShell - oh-my-posh</title>
    <link href="https://pcion123.github.io/2020/03/08/powershell-improve/"/>
    <id>https://pcion123.github.io/2020/03/08/powershell-improve/</id>
    <published>2020-03-08T05:50:17.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<img src="/2020/03/08/powershell-improve/powershell1.png" class=""><p>厭倦windows預設的powershell主題了嗎?<br>現在開始來改造它吧!!!</p><span id="more"></span><h2 id="安裝套件"><a href="#安裝套件" class="headerlink" title="安裝套件"></a>安裝套件</h2><p>首先打開powershell：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝posh-git套件</span></span><br><span class="line">Install-Module posh-git -Scope CurrentUser</span><br><span class="line"><span class="comment"># 安裝oh-my-posh套件</span></span><br><span class="line">Install-Module oh-my-posh -Scope CurrentUser</span><br></pre></td></tr></table></figure><p>基本上都輸入Y到底就可以安裝完成了!</p><h2 id="設置設定檔"><a href="#設置設定檔" class="headerlink" title="設置設定檔"></a>設置設定檔</h2><p>建立powershel啟動設定檔</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取得設定檔位置</span></span><br><span class="line"><span class="variable">$profile</span></span><br><span class="line"><span class="comment"># 得到設定檔位置</span></span><br><span class="line">~\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</span><br></pre></td></tr></table></figure><p>打開Microsoft.PowerShell_profile.ps1設定檔，如果沒有請自行建立</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用UTF-8編碼</span></span><br><span class="line">chcp 65001</span><br><span class="line"><span class="comment"># 引用posh-git</span></span><br><span class="line">Import-Module posh-git</span><br><span class="line"><span class="comment"># 引用oh-my-posh</span></span><br><span class="line">Import-Module oh-my-posh</span><br><span class="line"><span class="comment"># 設置Agnoster主題</span></span><br><span class="line">Set-Theme Agnoster</span><br></pre></td></tr></table></figure><h2 id="安裝powerline字型"><a href="#安裝powerline字型" class="headerlink" title="安裝powerline字型"></a>安裝powerline字型</h2><p>由於windows預設的字型無法支援oh-my-posh<br>所以我們需要另外安裝配合的字型檔</p><p><a href="https://github.com/powerline/fonts">powerline字型</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># clone項目</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/powerline/fonts.git</span><br><span class="line"><span class="comment"># 執行install.ps1進行安裝</span></span><br><span class="line">.\install.ps1</span><br></pre></td></tr></table></figure><p>調整powershell內容</p><img src="/2020/03/08/powershell-improve/powershell2.png" class=""><p>請選擇有powerline的字型</p><img src="/2020/03/08/powershell-improve/powershell3.png" class=""><h2 id="配置顏色主題"><a href="#配置顏色主題" class="headerlink" title="配置顏色主題"></a>配置顏色主題</h2><p>最後我們要用scoop來安裝colortool主題工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 保證允許腳本執行</span></span><br><span class="line">set-executionpolicy remotesigned -scope currentuser</span><br><span class="line"><span class="comment"># 安裝scoop</span></span><br><span class="line">iex (new-object net.webclient).downloadstring(<span class="string">&#x27;https://get.scoop.sh&#x27;</span>)</span><br><span class="line"><span class="comment"># 安裝colortool</span></span><br><span class="line">scoop install colortool</span><br></pre></td></tr></table></figure><p>接著我們就要來配置顏色主題</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取得預設主題列表</span></span><br><span class="line">colortool -s</span><br><span class="line"><span class="comment"># 預設主題</span></span><br><span class="line"><span class="comment"># campbell-legacy.ini</span></span><br><span class="line"><span class="comment"># campbell.ini</span></span><br><span class="line"><span class="comment"># cmd-legacy.ini</span></span><br><span class="line"><span class="comment"># OneHalfDark.itermcolors</span></span><br><span class="line"><span class="comment"># OneHalfLight.itermcolors</span></span><br><span class="line"><span class="comment"># solarized_dark.itermcolors</span></span><br><span class="line"><span class="comment"># solarized_light.itermcolors</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 臨時查看主題樣式</span></span><br><span class="line">colortool &lt;主題名稱&gt;</span><br><span class="line"><span class="comment"># 設置預設主題樣式</span></span><br><span class="line">colortool -d &lt;主題名稱&gt;</span><br></pre></td></tr></table></figure><p>選定主題</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 設置OneHalfDark主題</span></span><br><span class="line">colortool OneHalfDark.itermcolors</span><br></pre></td></tr></table></figure><img src="/2020/03/08/powershell-improve/powershell4.png" class=""><p>這樣我們就大功告成拉!!</p>]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2020/03/08/powershell-improve/powershell1.png&quot; class=&quot;&quot;&gt;

&lt;p&gt;厭倦windows預設的powershell主題了嗎?&lt;br&gt;現在開始來改造它吧!!!&lt;/p&gt;
    
    </summary>
    
    
      <category term="windows" scheme="https://pcion123.github.io/categories/windows/"/>
    
    
      <category term="windows" scheme="https://pcion123.github.io/tags/windows/"/>
    
      <category term="powershell" scheme="https://pcion123.github.io/tags/powershell/"/>
    
      <category term="terminal" scheme="https://pcion123.github.io/tags/terminal/"/>
    
  </entry>
  
  <entry>
    <title>TelegramBot申請與開發</title>
    <link href="https://pcion123.github.io/2019/11/09/telegrambot-install/"/>
    <id>https://pcion123.github.io/2019/11/09/telegrambot-install/</id>
    <published>2019-11-09T07:41:00.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<p>telegrambot的使用與開發相較於linebot來說是好上手很多<br>接下來就是介紹開發與使用方式</p><span id="more"></span><h2 id="telegrambot-申請"><a href="#telegrambot-申請" class="headerlink" title="telegrambot 申請"></a>telegrambot 申請</h2><p>在telegram search bar上搜尋@BotFather<br>然後完成附圖的流程</p><img src="/2019/11/09/telegrambot-install/telegram1.png" class=""><h2 id="telegrambot-API使用"><a href="#telegrambot-API使用" class="headerlink" title="telegrambot API使用"></a>telegrambot API使用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">https://api.telegram.org/bot&#123;token&#125;/getUpdates</span><br><span class="line"><span class="comment"># 取得chatid</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;ok&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;result&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;update_id&quot;</span>: 123456789,</span><br><span class="line">            <span class="string">&quot;message&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;message_id&quot;</span>: 99,</span><br><span class="line">                <span class="string">&quot;from&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;id&quot;</span>: 123456789,</span><br><span class="line">                    <span class="string">&quot;is_bot&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="string">&quot;first_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;last_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;language_code&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;chat&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;id&quot;</span>: -314847207,</span><br><span class="line">                    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;this is a title&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;group&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;all_members_are_administrators&quot;</span>: <span class="literal">true</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;date&quot;</span>: 1573288754,</span><br><span class="line">                <span class="string">&quot;text&quot;</span>: <span class="string">&quot;messsage&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">https://api.telegram.org/bot&#123;token&#125;/sendMessage?chat_id=&#123;channelid&#125;&amp;text=&#123;message&#125;</span><br><span class="line"><span class="comment"># 嘗試發送訊息</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;ok&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;result&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;message_id&quot;</span>: 99,</span><br><span class="line">        <span class="string">&quot;from&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: 123456789,</span><br><span class="line">            <span class="string">&quot;is_bot&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;first_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;username&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;chat&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: 123456789,</span><br><span class="line">            <span class="string">&quot;title&quot;</span>: <span class="string">&quot;this is a title&quot;</span>,</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;group&quot;</span>,</span><br><span class="line">            <span class="string">&quot;all_members_are_administrators&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;date&quot;</span>: 1573289062,</span><br><span class="line">        <span class="string">&quot;text&quot;</span>: <span class="string">&quot;messsage&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多API參考 <a href="https://core.telegram.org/bots/api">Telegram Bot API</a></p><h2 id="telegrambot-JAVASDK使用"><a href="#telegrambot-JAVASDK使用" class="headerlink" title="telegrambot JAVASDK使用"></a>telegrambot JAVASDK使用</h2><p>maven引用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.telegram&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.4</span><span class="number">.0</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>繼承TelegramLongPollingBot</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getBotUsername</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;userName&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getBotToken</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;token&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onUpdateReceived</span><span class="params">(Update update)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (update.hasMessage() &amp;&amp; update.getMessage().hasText())</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> update.getMessage().getFrom();</span><br><span class="line"><span class="type">String</span> <span class="variable">rcvMessage</span> <span class="operator">=</span> update.getMessage().getText();</span><br><span class="line"><span class="type">String</span> <span class="variable">source</span> <span class="operator">=</span> String.format(<span class="string">&quot;收到來自[%s%s]的訊息內容=%s&quot;</span>, user.getFirstName(), user.getLastName(), rcvMessage);</span><br><span class="line"><span class="type">SendMessage</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendMessage</span>().setChatId(update.getMessage().getChatId()).setText(source);</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">execute(message);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BotClass使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">ApiContextInitializer.init();</span><br><span class="line"><span class="type">TelegramBotsApi</span> <span class="variable">botsApi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TelegramBotsApi</span>();</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">botsApi.registerBot(<span class="keyword">new</span> <span class="title class_">Telegram</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最後完成範例</p><img src="/2019/11/09/telegrambot-install/telegram2.png" class="">]]></content>
    
    <summary type="html">
    
      &lt;p&gt;telegrambot的使用與開發相較於linebot來說是好上手很多&lt;br&gt;接下來就是介紹開發與使用方式&lt;/p&gt;
    
    </summary>
    
    
      <category term="telegram" scheme="https://pcion123.github.io/categories/telegram/"/>
    
    
      <category term="telegram" scheme="https://pcion123.github.io/tags/telegram/"/>
    
      <category term="bot" scheme="https://pcion123.github.io/tags/bot/"/>
    
  </entry>
  
  <entry>
    <title>Elasticsearch+Kibana+Logstash環境安裝</title>
    <link href="https://pcion123.github.io/2019/10/20/elk-install/"/>
    <id>https://pcion123.github.io/2019/10/20/elk-install/</id>
    <published>2019-10-20T05:36:22.000Z</published>
    <updated>2025-08-13T14:31:49.388Z</updated>
    
    <content type="html"><![CDATA[<p>在分散式系統底下我們需要查詢log紀錄<br>總不可能需要一台一台機器上去查看紀錄<br>這個時候我們就會需要有個服務幫我們達成這個目的</p><p>elasticsearch就很適合來幫我們完成這個任務</p><p><a href="https://www.elastic.co/cn/">elasticsearch官網</a></p><span id="more"></span><h2 id="安裝JDK"><a href="#安裝JDK" class="headerlink" title="安裝JDK"></a>安裝JDK</h2><a href="/2019/03/10/java-installopenjdk/" title="安裝OpenJDK">請參考之前的文章</a><h2 id="elasticsearch佈署"><a href="#elasticsearch佈署" class="headerlink" title="elasticsearch佈署"></a>elasticsearch佈署</h2><p>elasticsearch是一個分散式的儲存系統，屬於NoSQL資料庫的一種<br><a href="https://www.elastic.co/cn/products/elasticsearch">elasticsearch介紹</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下載安裝檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.4.0-amd64.deb</span><br><span class="line"><span class="comment">#下載驗證檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.4.0-amd64.deb.sha512</span><br><span class="line"><span class="comment">#檢查檔案</span></span><br><span class="line">$ shasum -a 512 -c elasticsearch-7.4.0-amd64.deb.sha512</span><br><span class="line"><span class="comment">#執行安裝</span></span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i elasticsearch-7.4.0-amd64.deb</span><br></pre></td></tr></table></figure><h3 id="修改配置檔案"><a href="#修改配置檔案" class="headerlink" title="修改配置檔案"></a>修改配置檔案</h3><p>首先我們要先修改elasticsearch記憶體的使用量<br>修改elasticsearch使用的記憶體，設定為主機的50%記憶體</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/etc/elasticsearch/jvm.options</span></span><br><span class="line">-Xms1g  <span class="comment"># Xms 記憶體使用下限</span></span><br><span class="line">-Xmx1g  <span class="comment"># Xmx 記憶體使用上限</span></span><br></pre></td></tr></table></figure><h3 id="修改設定檔"><a href="#修改設定檔" class="headerlink" title="修改設定檔"></a>修改設定檔</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/etc/elasticsearch/elasticsearch.yml</span></span><br><span class="line"><span class="comment">#設置服務名稱</span></span><br><span class="line">cluster.name: elk_elasticsearch</span><br><span class="line"><span class="comment">#設置節點名稱</span></span><br><span class="line">node.name: elk_node</span><br><span class="line"><span class="comment">#設置為主要結點</span></span><br><span class="line">node.master: <span class="literal">true</span></span><br><span class="line"><span class="comment">#允許節點儲存數據</span></span><br><span class="line">node.data: <span class="literal">true</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">path.data: /var/lib/elasticsearch</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">path.logs: /var/log/elasticsearch</span><br><span class="line"><span class="comment">#綁定來源</span></span><br><span class="line">network.bind_host: 0.0.0.0</span><br><span class="line"><span class="comment">#綁定對外服務端口</span></span><br><span class="line">http.port: 9200</span><br><span class="line"><span class="comment">#綁定節點通信端口</span></span><br><span class="line">transport.tcp.port: 9300</span><br><span class="line"><span class="comment">#啟用資料壓縮</span></span><br><span class="line">transport.tcp.compress: <span class="literal">true</span></span><br><span class="line"><span class="comment">#集群發現節點列表</span></span><br><span class="line">discovery.seed_hosts: [<span class="string">&quot;127.0.0.1:9300&quot;</span>]</span><br><span class="line"><span class="comment">#設置主要節點列表</span></span><br><span class="line">cluster.initial_master_nodes: [<span class="string">&quot;127.0.0.1&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#啟動服務</span></span><br><span class="line">$ service elasticsearch start</span><br><span class="line"><span class="comment">#測試</span></span><br><span class="line">$ curl http://127.0.0.1:9200</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span> : <span class="string">&quot;elk_node&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_name&quot;</span> : <span class="string">&quot;elk_service&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_uuid&quot;</span> : <span class="string">&quot;SRb6b1RaTaewA_OK2C7fMA&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span> : &#123;</span><br><span class="line">    <span class="string">&quot;number&quot;</span> : <span class="string">&quot;7.4.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_flavor&quot;</span> : <span class="string">&quot;default&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_type&quot;</span> : <span class="string">&quot;deb&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_hash&quot;</span> : <span class="string">&quot;22e1767283e61a198cb4db791ea66e3f11ab9910&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_date&quot;</span> : <span class="string">&quot;2019-09-27T08:36:48.569419Z&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_snapshot&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;lucene_version&quot;</span> : <span class="string">&quot;8.2.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_wire_compatibility_version&quot;</span> : <span class="string">&quot;6.8.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_index_compatibility_version&quot;</span> : <span class="string">&quot;6.0.0-beta1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;tagline&quot;</span> : <span class="string">&quot;You Know, for Search&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="kibana佈署"><a href="#kibana佈署" class="headerlink" title="kibana佈署"></a>kibana佈署</h2><p>kibana是elasticsearch可視化的重要元件<br><a href="https://www.elastic.co/cn/products/kibana">kibana介紹</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下載安裝檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.4.0-amd64.deb</span><br><span class="line"><span class="comment">#下載驗證檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/kibana/kibana-7.4.0-amd64.deb.sha512</span><br><span class="line"><span class="comment">#檢查檔案</span></span><br><span class="line">$ shasum -a 512 -c kibana-7.4.0-amd64.deb.sha512</span><br><span class="line"><span class="comment">#執行安裝</span></span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i kibana-7.4.0-amd64.deb</span><br></pre></td></tr></table></figure><h3 id="修改配置檔案-1"><a href="#修改配置檔案-1" class="headerlink" title="修改配置檔案"></a>修改配置檔案</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/etc/kibana/kibana.yml</span></span><br><span class="line"><span class="comment">#綁定對外服務端口</span></span><br><span class="line">server.port: 5601</span><br><span class="line"><span class="comment">#綁定來源</span></span><br><span class="line">server.host: <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line"><span class="comment">#設置服務名稱</span></span><br><span class="line">server.name: <span class="string">&quot;elk_kibana&quot;</span></span><br><span class="line"><span class="comment">#設置elasticsearch節點列表</span></span><br><span class="line">elasticsearch.hosts: [<span class="string">&quot;http://127.0.0.1:9200&quot;</span>]</span><br><span class="line"><span class="comment">#設置索引</span></span><br><span class="line">kibana.index: <span class="string">&quot;.kibana&quot;</span></span><br><span class="line">設置<span class="built_in">log</span>路徑</span><br><span class="line">logging.dest: /var/log/kibana/kibana.log</span><br><span class="line">設置中文化</span><br><span class="line">i18n.locale: <span class="string">&quot;zh-CN&quot;</span></span><br></pre></td></tr></table></figure><h3 id="建立log目錄"><a href="#建立log目錄" class="headerlink" title="建立log目錄"></a>建立log目錄</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#建立目錄</span></span><br><span class="line">$ <span class="built_in">mkdir</span> /var/log/kibana</span><br><span class="line"><span class="comment">#修改使用者權限</span></span><br><span class="line">$ <span class="built_in">chown</span> kibana:kibana /var/log/kibana</span><br></pre></td></tr></table></figure><h3 id="測試-1"><a href="#測試-1" class="headerlink" title="測試"></a>測試</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#啟動服務</span></span><br><span class="line">$ service kibana start</span><br></pre></td></tr></table></figure><p><a href="http://127.0.0.1:5601/">測試網址http://127.0.0.1:5601</a></p><img src="/2019/10/20/elk-install/kibana1.png" class=""><img src="/2019/10/20/elk-install/kibana2.png" class=""><h2 id="logstash佈署"><a href="#logstash佈署" class="headerlink" title="logstash佈署"></a>logstash佈署</h2><p>logstash是負責幫我們收集各種log資料的收集器<br><a href="https://www.elastic.co/cn/products/logstash">logstash介紹</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下載安裝檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/logstash/logstash-7.4.0.deb</span><br><span class="line"><span class="comment">#下載驗證檔</span></span><br><span class="line">$ wget https://artifacts.elastic.co/downloads/logstash/logstash-7.4.0.deb.sha512</span><br><span class="line"><span class="comment">#檢查檔案</span></span><br><span class="line">$ shasum -a 512 -c logstash-7.4.0.deb.sha512</span><br><span class="line"><span class="comment">#執行安裝</span></span><br><span class="line">$ <span class="built_in">sudo</span> dpkg -i logstash-7.4.0.deb</span><br></pre></td></tr></table></figure><h3 id="修改配置檔案-2"><a href="#修改配置檔案-2" class="headerlink" title="修改配置檔案"></a>修改配置檔案</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/etc/logstash/conf.d/30-log.conf</span></span><br><span class="line"><span class="comment"># Sample Logstash configuration for creating a simple</span></span><br><span class="line"><span class="comment"># Beats -&gt; Logstash -&gt; Elasticsearch pipeline.</span></span><br><span class="line"></span><br><span class="line">input &#123;</span><br><span class="line">  beats &#123;</span><br><span class="line">    port =&gt; 5044</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output &#123;</span><br><span class="line">  elasticsearch &#123;</span><br><span class="line">    hosts =&gt; [<span class="string">&quot;http://localhost:9200&quot;</span>]</span><br><span class="line">    index =&gt; <span class="string">&quot;%&#123;[@metadata][beat]&#125;-%&#123;[@metadata][version]&#125;-%&#123;+YYYY.MM.dd&#125;&quot;</span></span><br><span class="line">    <span class="comment">#user =&gt; &quot;elastic&quot;</span></span><br><span class="line">    <span class="comment">#password =&gt; &quot;changeme&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="檢查設定檔"><a href="#檢查設定檔" class="headerlink" title="檢查設定檔"></a>檢查設定檔</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ /usr/share/logstash/bin/logstash --config.test_and_exit -f /etc/logstash/conf.d/30-log.conf</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">Configuration OK</span><br></pre></td></tr></table></figure><h3 id="啟動服務"><a href="#啟動服務" class="headerlink" title="啟動服務"></a>啟動服務</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#啟動服務</span></span><br><span class="line">$ service logstash start</span><br></pre></td></tr></table></figure><p>基本上elk環境安裝就到這裡<br>之後有空再補上log server使用方式</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在分散式系統底下我們需要查詢log紀錄&lt;br&gt;總不可能需要一台一台機器上去查看紀錄&lt;br&gt;這個時候我們就會需要有個服務幫我們達成這個目的&lt;/p&gt;
&lt;p&gt;elasticsearch就很適合來幫我們完成這個任務&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.elastic.co/cn/&quot;&gt;elasticsearch官網&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="elasticsearch" scheme="https://pcion123.github.io/categories/elasticsearch/"/>
    
    
      <category term="elasticsearch" scheme="https://pcion123.github.io/tags/elasticsearch/"/>
    
      <category term="kibana" scheme="https://pcion123.github.io/tags/kibana/"/>
    
      <category term="logstash" scheme="https://pcion123.github.io/tags/logstash/"/>
    
      <category term="佈署" scheme="https://pcion123.github.io/tags/%E4%BD%88%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>PM2監控程序</title>
    <link href="https://pcion123.github.io/2019/03/24/pm2-watch/"/>
    <id>https://pcion123.github.io/2019/03/24/pm2-watch/</id>
    <published>2019-03-24T08:06:46.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<p>接下來我們要介紹如何簡單的監控我們應用</p><span id="more"></span><h2 id="測試腳本"><a href="#測試腳本" class="headerlink" title="測試腳本"></a>測試腳本</h2><p>我們寫個簡單的腳本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nano test.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">test</span> is start</span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> &#123;1..10&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> this is a <span class="built_in">echo</span></span><br><span class="line"><span class="built_in">sleep</span> 1</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">test</span> is end</span><br></pre></td></tr></table></figure><h2 id="建立PM2配置"><a href="#建立PM2配置" class="headerlink" title="建立PM2配置"></a>建立PM2配置</h2><p>pm2允許我通過配置的方式來控制我們想要監控的方式，<br>所以我們先產生一個基本的範例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 init</span><br></pre></td></tr></table></figure><p>pm2會幫我們產生一個名為ecosystem.config.js的檔案</p><h2 id="編輯PM2配置"><a href="#編輯PM2配置" class="headerlink" title="編輯PM2配置"></a>編輯PM2配置</h2><p>接下來要編輯這個檔案配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  apps : [&#123;</span><br><span class="line">    name: <span class="string">&#x27;mytest&#x27;</span>, // 任務名稱</span><br><span class="line">    script: <span class="string">&#x27;test.sh&#x27;</span>, // 啟動腳本</span><br><span class="line"></span><br><span class="line">    // Options reference: https://pm2.io/doc/en/runtime/reference/ecosystem-file/</span><br><span class="line">    //args: <span class="string">&#x27;one two&#x27;</span>,</span><br><span class="line">    instances: 1,</span><br><span class="line">    autorestart: <span class="literal">true</span>, // 自動重啟開關</span><br><span class="line">    max_restarts: 10, // 最大重啟次數</span><br><span class="line">    restart_delay: 30000, // 重啟時間間隔(毫秒)</span><br><span class="line">    watch: <span class="literal">false</span>,</span><br><span class="line">    max_memory_restart: <span class="string">&#x27;1G&#x27;</span>,</span><br><span class="line">    <span class="built_in">env</span>: &#123;</span><br><span class="line">      NODE_ENV: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    env_production: &#123;</span><br><span class="line">      NODE_ENV: <span class="string">&#x27;production&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  deploy : &#123;</span><br><span class="line">    production : &#123;</span><br><span class="line">      user : <span class="string">&#x27;node&#x27;</span>,</span><br><span class="line">      host : <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">      ref  : <span class="string">&#x27;origin/master&#x27;</span>,</span><br><span class="line">      repo : <span class="string">&#x27;git@github.com:repo.git&#x27;</span>,</span><br><span class="line">      path : <span class="string">&#x27;/var/www/production&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;post-deploy&#x27;</span> : <span class="string">&#x27;npm install &amp;&amp; pm2 reload ecosystem.config.js --env production&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="操作PM2任務"><a href="#操作PM2任務" class="headerlink" title="操作PM2任務"></a>操作PM2任務</h2><p>啟動任務：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 start ecosystem.config.js</span><br></pre></td></tr></table></figure><img src="/2019/03/24/pm2-watch/pm2start.png" class=""><p>停止任務：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 stop ecosystem.config.js</span><br></pre></td></tr></table></figure><img src="/2019/03/24/pm2-watch/pm2stop.png" class=""><p>觀看監控：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 monit</span><br></pre></td></tr></table></figure><img src="/2019/03/24/pm2-watch/pm2monit.png" class=""><p>更多的介紹請上官網查詢：<a href="https://pm2.io/doc/zh/runtime/overview/">PM2教程</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;接下來我們要介紹如何簡單的監控我們應用&lt;/p&gt;
    
    </summary>
    
    
      <category term="pm2" scheme="https://pcion123.github.io/categories/pm2/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="pm2" scheme="https://pcion123.github.io/tags/pm2/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝PM2</title>
    <link href="https://pcion123.github.io/2019/03/24/pm2-install/"/>
    <id>https://pcion123.github.io/2019/03/24/pm2-install/</id>
    <published>2019-03-24T07:28:33.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<p>PM2是一套Node應用的進程管理器，<br>當程式出現錯誤或者其他狀況死掉之後，<br>這時候PM2就可以幫你的應用自動重啟，<br>當然它不止這些功能，<br>詳細可以看看官網介紹：<a href="http://pm2.keymetrics.io/">PM2</a></p><span id="more"></span><p>接下來我們要來介紹如何在ububtu上安裝它</p><p>先更新套件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line">$ <span class="built_in">sudo</span> apt upgrade</span><br></pre></td></tr></table></figure><h2 id="安裝NodeJS"><a href="#安裝NodeJS" class="headerlink" title="安裝NodeJS"></a>安裝NodeJS</h2><p>已經安裝過的朋友可以跳過這一步</p><p>安装NodeJS：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install nodejs</span><br></pre></td></tr></table></figure><p>然後我們要安裝<a href="https://github.com/tj/n/">n</a>來幫我們管理nodejs版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g n</span><br></pre></td></tr></table></figure><h2 id="安裝NPM"><a href="#安裝NPM" class="headerlink" title="安裝NPM"></a>安裝NPM</h2><p>已經安裝過的朋友可以跳過這一步</p><p>安装NPM：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install npm</span><br></pre></td></tr></table></figure><p>然後我們要安裝<a href="https://github.com/tj/n/">n</a>來幫我們管理nodejs版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g n</span><br></pre></td></tr></table></figure><h2 id="安裝PM2"><a href="#安裝PM2" class="headerlink" title="安裝PM2"></a>安裝PM2</h2><p>接下來要開始正式安裝PM2：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install pm2 -g</span><br></pre></td></tr></table></figure><p>完成PM2安裝步驟：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 completion install</span><br></pre></td></tr></table></figure><p>查看監控項目列表：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><img src="/2019/03/24/pm2-install/pm2list.png" class=""><p>查看監控詳細內容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 monit</span><br></pre></td></tr></table></figure><img src="/2019/03/24/pm2-install/pm2monit.png" class="">]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PM2是一套Node應用的進程管理器，&lt;br&gt;當程式出現錯誤或者其他狀況死掉之後，&lt;br&gt;這時候PM2就可以幫你的應用自動重啟，&lt;br&gt;當然它不止這些功能，&lt;br&gt;詳細可以看看官網介紹：&lt;a href=&quot;http://pm2.keymetrics.io/&quot;&gt;PM2&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="pm2" scheme="https://pcion123.github.io/categories/pm2/"/>
    
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="pm2" scheme="https://pcion123.github.io/tags/pm2/"/>
    
  </entry>
  
  <entry>
    <title>安裝Tomcat</title>
    <link href="https://pcion123.github.io/2019/03/16/tomcat-install/"/>
    <id>https://pcion123.github.io/2019/03/16/tomcat-install/</id>
    <published>2019-03-16T09:21:07.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝Tomcat"><a href="#安裝Tomcat" class="headerlink" title="安裝Tomcat"></a>安裝Tomcat</h2><p>先下載maven：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://www-eu.apache.org/dist/tomcat/tomcat-9/v9.0.16/bin/apache-tomcat-9.0.16.tar.gz</span><br></pre></td></tr></table></figure><p>解開包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar xzvf apache-tomcat-9.0.16.tar.gz</span><br></pre></td></tr></table></figure><p>移動到&#x2F;opt&#x2F;底下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mv</span> apache-tomcat-9.0.16 /opt</span><br></pre></td></tr></table></figure><h2 id="設置Tomcat環境變數"><a href="#設置Tomcat環境變數" class="headerlink" title="設置Tomcat環境變數"></a>設置Tomcat環境變數</h2><p>打開&#x2F;etc&#x2F;profile這個檔案並且在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/opt/apache-tomcat-9.0.16</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$TOMCAT_HOME</span>/bin</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;安裝Tomcat&quot;&gt;&lt;a href=&quot;#安裝Tomcat&quot; class=&quot;headerlink&quot; title=&quot;安裝Tomcat&quot;&gt;&lt;/a&gt;安裝Tomcat&lt;/h2&gt;&lt;p&gt;先下載maven：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wget https://www-eu.apache.org/dist/tomcat/tomcat-9/v9.0.16/bin/apache-tomcat-9.0.16.tar.gz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解開包：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span
        
      
    
    </summary>
    
    
      <category term="tomcat" scheme="https://pcion123.github.io/categories/tomcat/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="tomcat" scheme="https://pcion123.github.io/tags/tomcat/"/>
    
  </entry>
  
  <entry>
    <title>安裝Maven</title>
    <link href="https://pcion123.github.io/2019/03/16/maven-install/"/>
    <id>https://pcion123.github.io/2019/03/16/maven-install/</id>
    <published>2019-03-16T08:59:55.000Z</published>
    <updated>2025-08-13T14:31:49.406Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝Maven"><a href="#安裝Maven" class="headerlink" title="安裝Maven"></a>安裝Maven</h2><p>先下載maven：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://www-us.apache.org/dist/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz</span><br></pre></td></tr></table></figure><p>解開包:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar xzvf apache-maven-3.6.0-bin.tar.gz</span><br></pre></td></tr></table></figure><p>移動到&#x2F;opt&#x2F;底下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mv</span> apache-maven-3.6.0-bin /opt</span><br></pre></td></tr></table></figure><h2 id="設置Maven環境變數"><a href="#設置Maven環境變數" class="headerlink" title="設置Maven環境變數"></a>設置Maven環境變數</h2><p>打開&#x2F;etc&#x2F;profile這個檔案並且在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> MAVEN_HOME=/opt/apache-maven-3.6.0</span><br><span class="line"><span class="built_in">export</span> M2_HOME=/opt/apache-maven-3.6.0</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$MAVEN_HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$M2_HOME</span>/bin</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;安裝Maven&quot;&gt;&lt;a href=&quot;#安裝Maven&quot; class=&quot;headerlink&quot; title=&quot;安裝Maven&quot;&gt;&lt;/a&gt;安裝Maven&lt;/h2&gt;&lt;p&gt;先下載maven：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wget https://www-us.apache.org/dist/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解開包:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span
        
      
    
    </summary>
    
    
      <category term="maven" scheme="https://pcion123.github.io/categories/maven/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="maven" scheme="https://pcion123.github.io/tags/maven/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝Redis</title>
    <link href="https://pcion123.github.io/2019/03/16/ubuntu-installredis/"/>
    <id>https://pcion123.github.io/2019/03/16/ubuntu-installredis/</id>
    <published>2019-03-16T07:41:00.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝redis"><a href="#安裝redis" class="headerlink" title="安裝redis"></a>安裝redis</h2><p>在ubuntu底下安裝redis跟安裝mariadb一樣，<br>依靠apt指令就可以安裝完成：</p><p>先更新套件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line">$ <span class="built_in">sudo</span> apt upgrade</span><br></pre></td></tr></table></figure><p>安装Redis：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install redis-server</span><br></pre></td></tr></table></figure><p>安裝完成後redis會自動加入到服務中，查看服務：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl status redis</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="修改redis設置"><a href="#修改redis設置" class="headerlink" title="修改redis設置"></a>修改redis設置</h2><p>後我們要提供給遠端使用者使用就需要去修改設定檔，<br>打開&#x2F;etc&#x2F;redis&#x2F;redis.conf，找到bind且將他註解掉</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES</span></span><br><span class="line"><span class="comment"># JUST COMMENT THE FOLLOWING LINE.</span></span><br><span class="line"><span class="comment"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span><br><span class="line"><span class="comment"># bind 127.0.0.1 ::1</span></span><br></pre></td></tr></table></figure><p>之後再重新啟動redis就可以了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl restart redis</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安裝redis&quot;&gt;&lt;a href=&quot;#安裝redis&quot; class=&quot;headerlink&quot; title=&quot;安裝redis&quot;&gt;&lt;/a&gt;安裝redis&lt;/h2&gt;&lt;p&gt;在ubuntu底下安裝redis跟安裝mariadb一樣，&lt;br&gt;依靠apt指令就可以安裝完成：&lt;/p&gt;
&lt;p&gt;先更新套件：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt upgrade&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;安装Redis：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt install redis-server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;安裝完成後redis會自動加入到服務中，查看服務：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; systemctl status redis&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://pcion123.github.io/categories/linux/"/>
    
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="redis" scheme="https://pcion123.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu安裝MariaDB</title>
    <link href="https://pcion123.github.io/2019/03/16/ubuntu-installmariadb/"/>
    <id>https://pcion123.github.io/2019/03/16/ubuntu-installmariadb/</id>
    <published>2019-03-16T07:38:31.000Z</published>
    <updated>2025-08-13T14:31:49.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝mariadb"><a href="#安裝mariadb" class="headerlink" title="安裝mariadb"></a>安裝mariadb</h2><p>在ubuntu底下安裝mariadb其實很方便，<br>只要幾個指令就可以完成了：</p><p>先更新套件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt update</span><br><span class="line">$ <span class="built_in">sudo</span> apt upgrade</span><br></pre></td></tr></table></figure><p>安装MariaDB：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install mariadb-server</span><br></pre></td></tr></table></figure><p>啟動服務：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl start mysql</span><br><span class="line">$ <span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> mysql</span><br></pre></td></tr></table></figure><p>查看服務：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl status mysql</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="初始化mariadb"><a href="#初始化mariadb" class="headerlink" title="初始化mariadb"></a>初始化mariadb</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> mysql_secure_installation</span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否要設置root權限密碼</span></span><br><span class="line">- Set root password? [Y/n] y</span><br><span class="line"><span class="comment"># 是否要移除匿名登入</span></span><br><span class="line">- Remove anonymous <span class="built_in">users</span>? [Y/n] y</span><br><span class="line"><span class="comment"># 是否關閉遠端登入</span></span><br><span class="line">- Disallow root login remotely? [Y/n] y</span><br><span class="line"><span class="comment"># 是否移除test預設庫</span></span><br><span class="line">- Remove <span class="built_in">test</span> database and access to it? [Y/n] y</span><br><span class="line"><span class="comment"># 是否重新載入資料表權限</span></span><br><span class="line">- Reload privilege tables now? [Y/n] y</span><br></pre></td></tr></table></figure><p>完成後我們可試著本機登入查看：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> mysql -u root -p</span><br></pre></td></tr></table></figure><h2 id="建立遠端使用者權限"><a href="#建立遠端使用者權限" class="headerlink" title="建立遠端使用者權限"></a>建立遠端使用者權限</h2><p>初始化db之後我們還需要建立一組帳號，提供使用者遠端登入使用</p><p>建立使用者與權限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 建立使用者</span></span><br><span class="line">$ CREATE USER <span class="string">&#x27;my_account&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;my_password&#x27;</span>;</span><br><span class="line"><span class="comment"># 建立使用者權限</span></span><br><span class="line">$ GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;my_account&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;my_password&#x27;</span> WITH GRANT OPTION;</span><br><span class="line"><span class="comment"># 刷新設置</span></span><br><span class="line">$ FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p>查看結果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看使用者</span></span><br><span class="line">$ SELECT host,user,password FROM mysql.user;</span><br><span class="line"><span class="comment"># 查看使用者權限</span></span><br><span class="line">$ SHOW GRANTS FOR <span class="string">&#x27;my_account&#x27;</span>;</span><br></pre></td></tr></table></figure><p>完成後我們嘗試遠端登入查看：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -h 192.168.0.100 -u <span class="string">&#x27;my_account&#x27;</span> -p</span><br></pre></td></tr></table></figure><h2 id="修改mariadb設置"><a href="#修改mariadb設置" class="headerlink" title="修改mariadb設置"></a>修改mariadb設置</h2><p>如果還是不行就需要去修改mariadb的設定檔<br>打開&#x2F;etc&#x2F;mysql&#x2F;mariadb.conf.d&#x2F;50-server.cnf，找到bind-address且將他註解掉</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Instead of skip-networking the default is now to listen only on</span></span><br><span class="line"><span class="comment"># localhost which is more compatible and is not less secure.</span></span><br><span class="line"><span class="comment"># bind-address  = 127.0.0.1</span></span><br></pre></td></tr></table></figure><p>之後再重新啟動mariadb就可以了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> systemctl restart mysql</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安裝mariadb&quot;&gt;&lt;a href=&quot;#安裝mariadb&quot; class=&quot;headerlink&quot; title=&quot;安裝mariadb&quot;&gt;&lt;/a&gt;安裝mariadb&lt;/h2&gt;&lt;p&gt;在ubuntu底下安裝mariadb其實很方便，&lt;br&gt;只要幾個指令就可以完成了：&lt;/p&gt;
&lt;p&gt;先更新套件：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt upgrade&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;安装MariaDB：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt install mariadb-server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;啟動服務：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; systemctl start mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; systemctl &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; mysql&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;查看服務：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; systemctl status mysql&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://pcion123.github.io/categories/linux/"/>
    
    
      <category term="ubuntu" scheme="https://pcion123.github.io/tags/ubuntu/"/>
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="mariadb" scheme="https://pcion123.github.io/tags/mariadb/"/>
    
  </entry>
  
  <entry>
    <title>安裝OpenJDK</title>
    <link href="https://pcion123.github.io/2019/03/10/java-installopenjdk/"/>
    <id>https://pcion123.github.io/2019/03/10/java-installopenjdk/</id>
    <published>2019-03-10T08:01:20.000Z</published>
    <updated>2025-08-13T14:31:49.388Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝OpenJDK"><a href="#安裝OpenJDK" class="headerlink" title="安裝OpenJDK"></a>安裝OpenJDK</h2><p>安裝預設版本OpenJDK</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt-get update</span><br><span class="line">$ <span class="built_in">sudo</span> apt-get install default-jdk</span><br></pre></td></tr></table></figure><p>安裝指定版本OpenJDK</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt-get update</span><br><span class="line">$ <span class="built_in">sudo</span> apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure><p>安裝指定版本OpenJRE</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt-get update</span><br><span class="line">$ <span class="built_in">sudo</span> apt-get install openjdk-8-jre</span><br></pre></td></tr></table></figure><h2 id="設定系統-Java-版本"><a href="#設定系統-Java-版本" class="headerlink" title="設定系統 Java 版本"></a>設定系統 Java 版本</h2><p>先查看當前有哪些版本可供設定</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ update-alternatives --query java</span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">$ update-alternatives --display java</span><br></pre></td></tr></table></figure><p>設定版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> update-alternatives --config java</span><br></pre></td></tr></table></figure><h2 id="設置Java環境變數"><a href="#設置Java環境變數" class="headerlink" title="設置Java環境變數"></a>設置Java環境變數</h2><p>打開&#x2F;etc&#x2F;profile這個檔案並且在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;安裝OpenJDK&quot;&gt;&lt;a href=&quot;#安裝OpenJDK&quot; class=&quot;headerlink&quot; title=&quot;安裝OpenJDK&quot;&gt;&lt;/a&gt;安裝OpenJDK&lt;/h2&gt;&lt;p&gt;安裝預設版本OpenJDK&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt; apt-get install
        
      
    
    </summary>
    
    
      <category term="java" scheme="https://pcion123.github.io/categories/java/"/>
    
    
      <category term="java" scheme="https://pcion123.github.io/tags/java/"/>
    
      <category term="jdk" scheme="https://pcion123.github.io/tags/jdk/"/>
    
  </entry>
  
  <entry>
    <title>解決Jenkins執行sudo命令出現錯誤</title>
    <link href="https://pcion123.github.io/2019/03/10/jenkins-sudoerror/"/>
    <id>https://pcion123.github.io/2019/03/10/jenkins-sudoerror/</id>
    <published>2019-03-10T06:11:41.000Z</published>
    <updated>2025-08-13T14:31:49.406Z</updated>
    
    <content type="html"><![CDATA[<p>我們在使用jenkins部屬任務的時候常常需要使用到腳本，<br>如果在腳本中使用到了sudo這個令命時，有可能會產生以下錯誤：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span>: no <span class="built_in">tty</span> present and no askpass program specified</span><br></pre></td></tr></table></figure><p>解决方式：<br>在jenkins host server上執行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> visudo</span><br></pre></td></tr></table></figure><p>在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenkins ALL=(ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure><p>Ctrl+O 存檔(ps.存檔的時候副檔名不要加入.tmp，這樣即可覆蓋原來的檔案)<br>Ctrl+X 離開</p><p>最後重啟jenkins</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> bash /etc/init.d/jenkins restart</span><br><span class="line"><span class="comment">#另外也可以這樣</span></span><br><span class="line">$ <span class="built_in">sudo</span> service jenkins restart</span><br></pre></td></tr></table></figure><p>最後再重新建構一次任務即可</p>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;我們在使用jenkins部屬任務的時候常常需要使用到腳本，&lt;br&gt;如果在腳本中使用到了sudo這個令命時，有可能會產生以下錯誤：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;sudo&lt;/span&gt;: no &lt;span class=&quot;built_in&quot;&gt;tty&lt;/span&gt; present and no askpass program specified&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;解决方式：&lt;br&gt;在jenkins host server上執行以下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span
        
      
    
    </summary>
    
    
      <category term="jenkins" scheme="https://pcion123.github.io/categories/jenkins/"/>
    
    
      <category term="jenkins" scheme="https://pcion123.github.io/tags/jenkins/"/>
    
      <category term="error" scheme="https://pcion123.github.io/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>設置Linux環境變數</title>
    <link href="https://pcion123.github.io/2019/03/10/linux-environmentvariables/"/>
    <id>https://pcion123.github.io/2019/03/10/linux-environmentvariables/</id>
    <published>2019-03-10T05:38:10.000Z</published>
    <updated>2025-08-13T14:31:49.406Z</updated>
    
    <content type="html"><![CDATA[<p>我們在進行環境開發的時候常常需要用到一些系統路徑，<br>那這些路徑我們可以用系統的環境變數來讓他大大縮減打字的長度，<br>以下就介紹我們如何來建立這些環境變數</p><p>linux提供兩種設置環境變數的方式 -&gt; 使用者環境變數 &amp; 系統環境變數</p><span id="more"></span><h2 id="使用者環境變數"><a href="#使用者環境變數" class="headerlink" title="使用者環境變數"></a>使用者環境變數</h2><p>使用者環境變數儲存在以下檔案中：<br>~&#x2F;.profile<br>~&#x2F;.bashrc<br>~&#x2F;.bash_profile<br>~&#x2F;.bash_login</p><h2 id="系統環境變數"><a href="#系統環境變數" class="headerlink" title="系統環境變數"></a>系統環境變數</h2><p>系統環境變數儲存在以下檔案中：<br>&#x2F;etc&#x2F;profile<br>&#x2F;etc&#x2F;profile.d<br>&#x2F;etc&#x2F;bash.bashrc</p><h2 id="加入系統環境變數"><a href="#加入系統環境變數" class="headerlink" title="加入系統環境變數"></a>加入系統環境變數</h2><p>打開&#x2F;etc&#x2F;profile這個檔案並且在末尾加入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/jdk1.7.0</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br></pre></td></tr></table></figure><p>環境變數更改後,將在使用者下次登陸時生效<br>如果想立刻生效,則執行下面的語句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>生效後我們可以進行測試</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$JAVA_HOME</span></span><br></pre></td></tr></table></figure><p>成功後應當看到剛剛我們我設置的路徑<br>另外如果想查看當前系統所設置的路徑有哪些可以輸入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>他會顯示當前所有的環境路徑有哪些</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我們在進行環境開發的時候常常需要用到一些系統路徑，&lt;br&gt;那這些路徑我們可以用系統的環境變數來讓他大大縮減打字的長度，&lt;br&gt;以下就介紹我們如何來建立這些環境變數&lt;/p&gt;
&lt;p&gt;linux提供兩種設置環境變數的方式 -&amp;gt; 使用者環境變數 &amp;amp; 系統環境變數&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://pcion123.github.io/categories/linux/"/>
    
    
      <category term="linux" scheme="https://pcion123.github.io/tags/linux/"/>
    
      <category term="環境變數" scheme="https://pcion123.github.io/tags/%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"/>
    
  </entry>
  
</feed>
